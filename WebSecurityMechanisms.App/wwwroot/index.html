<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>WebSecurityMechanisms.App</title>
    <base href="/" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="WebSecurityMechanisms.App.styles.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
</head>

<body>
    <div id="app">Loading...</div>

<!--    <div id="blazor-error-ui">-->
<!--        An unhandled error has occurred.-->
<!--        <a href="" class="reload">Reload</a>-->
<!--        <a class="dismiss">ðŸ—™</a>-->
<!--    </div>-->
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="lib/ace/ace.js"></script>
    <script src="lib/ace/mode-javascript.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    
    <script type="module">  
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.mjs';
        mermaid.initialize(
            { 
                startOnLoad: false,
                sequence: {
                    diagramMarginX: 50,
                    diagramMarginY: 10,
                    boxTextMargin: 5,
                    noteMargin: 10,
                    messageMargin: 35,
                    mirrorActors: false,
                    noteAlign: 'left',
                    bottomMarginAdj: 200
                }
            });

        window.renderDiagram = async (model, element) => {
            const drawDiagram = async function () {
                element = document.querySelector('#'+element.id);
                const { svg } = await mermaid.render(element.id + "-svg", model, element);
                element.innerHTML = svg;
            };

            await drawDiagram();
            // element.removeAttribute("data-processed");
            // element.innerHTML = model;
            // await mermaid.run({
            //     querySelector: '#' + element.id,
            // });
        }
    </script>
    

    <div id="toto" class="mermaid"></div>

</body>

</html>
